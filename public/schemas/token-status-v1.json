{
  "$schema": "http://json-schema.org/draft-07/schema#",
  "title": "Token Status Schema v1",
  "description": "Public, machine-readable token market status",
  "type": "object",
  "required": [
    "schema",
    "updated_at",
    "token",
    "market_state",
    "stability_signals",
    "structure",
    "fee_flow",
    "last_event"
  ],
  "properties": {
    "schema": {
      "type": "string",
      "format": "uri"
    },
    "updated_at": {
      "type": "string",
      "format": "date-time"
    },
    "token": {
      "type": "object",
      "required": ["name", "symbol", "chain", "contract"],
      "properties": {
        "name": { "type": "string" },
        "symbol": { "type": "string" },
        "chain": { "type": "string" },
        "contract": { "type": "string" },
        "pair": { "type": ["string", "null"] }
      }
    },
    "market_state": {
      "type": "object",
      "required": ["price_usd", "liquidity_usd", "holders", "trades_24h"],
      "properties": {
        "price_usd": { "type": ["number", "null"] },
        "liquidity_usd": { "type": ["number", "null"] },
        "holders": { "type": ["integer", "null"] },
        "trades_24h": { "type": ["integer", "null"] }
      }
    },
    "stability_signals": {
      "type": "object",
      "required": [
        "days_without_dump_spike",
        "largest_sell_percent_24h",
        "insider_sell_detected"
      ],
      "properties": {
        "days_without_dump_spike": { "type": ["integer", "null"] },
        "largest_sell_percent_24h": { "type": ["number", "null"] },
        "insider_sell_detected": { "type": ["boolean", "null"] }
      }
    },
    "structure": {
      "type": "object",
      "required": [
        "buy_fee_percent",
        "sell_fee_percent",
        "fees_mutable",
        "lp_removable",
        "blacklist_possible"
      ],
      "properties": {
        "buy_fee_percent": { "type": "number" },
        "sell_fee_percent": { "type": "number" },
        "fees_mutable": { "type": "boolean" },
        "lp_removable": { "type": "boolean" },
        "blacklist_possible": { "type": "boolean" }
      }
    },
    "fee_flow": {
      "type": "object",
      "required": ["receiver", "transparent", "documented"],
      "properties": {
        "receiver": { "type": "string" },
        "transparent": { "type": "boolean" },
        "documented": { "type": "boolean" }
      }
    },
    "cross_reference": {
      "type": ["object", "null"],
      "properties": {
        "related_token": { "type": ["string", "null"] },
        "relation": { "type": ["string", "null"] }
      }
    },
    "last_event": {
      "type": "object",
      "required": ["type", "message", "timestamp"],
      "properties": {
        "type": { "type": "string" },
        "message": { "type": "string" },
        "timestamp": {
          "type": "string",
          "format": "date-time"
        }
      }
    }
  },
  "additionalProperties": false
}
